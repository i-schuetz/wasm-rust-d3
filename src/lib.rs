mod utils;
use serde::Deserialize;
use serde_json::Error;
use wasm_bindgen::prelude::*;

// When the `wee_alloc` feature is enabled, use `wee_alloc` as the global
// allocator.
#[cfg(feature = "wee_alloc")]
#[global_allocator]
static ALLOC: wee_alloc::WeeAlloc = wee_alloc::WeeAlloc::INIT;

#[wasm_bindgen(js_name = getPoints)]
pub async fn get_points() -> PointsWrapper {
    match fetch_prices().await {
        Ok(prices) => PointsWrapper {
            points: flatten(prices),
        },
        Err(e) => panic!("Error fetching prices: {}", e),
    }
}

#[derive(Clone, Copy, Debug, PartialEq, Eq)]
pub struct Point {
    x: i32,
    y: i32,
}

fn flatten(prices: Prices) -> Vec<f32> {
    prices.prices.into_iter().flatten().collect()
}

#[derive(Debug, Deserialize)]
pub struct Prices {
    pub prices: Vec<Vec<f32>>,
}

#[wasm_bindgen]
pub struct PointsWrapper {
    points: Vec<f32>,
}

#[wasm_bindgen]
impl PointsWrapper {
    pub fn len(&self) -> i32 {
        self.points.len() as i32
    }

    pub fn arr(&self) -> *const f32 {
        self.points.as_ptr()
    }
}

async fn fetch_prices() -> Result<Prices, Error> {
    let str = r#"
        {
            "prices": [
            [
            1603564606272,
            6019.46979064303
            ],
            [
            1603564982586,
            6016.559661688415
            ],
            [
            1603565385613,
            5980.932640803383
            ],
            [
            1603565751405,
            5976.179972277274
            ],
            [
            1603566062568,
            5973.611618077262
            ],
            [
            1603566326985,
            5995.004416106132
            ],
            [
            1603566600730,
            5998.175979584426
            ],
            [
            1603566918470,
            6004.4384549073475
            ],
            [
            1603567252041,
            6019.081168079008
            ],
            [
            1603567600735,
            6007.681667023986
            ],
            [
            1603567881333,
            5956.2498376312515
            ],
            [
            1603568120958,
            5942.74140090081
            ],
            [
            1603568469242,
            5943.327080607557
            ],
            [
            1603568673790,
            5946.533160987443
            ],
            [
            1603569013590,
            5946.149638602055
            ],
            [
            1603569161357,
            5956.746523098555
            ],
            [
            1603569681061,
            5962.165394114427
            ],
            [
            1603569965128,
            5967.101201850119
            ],
            [
            1603570270747,
            5966.6786096409905
            ],
            [
            1603570466853,
            5963.576094126016
            ],
            [
            1603570819814,
            5967.540680162767
            ],
            [
            1603571150859,
            5954.398040953979
            ],
            [
            1603571464536,
            5958.2351261468
            ],
            [
            1603571769828,
            5954.928339957327
            ],
            [
            1603572051718,
            5942.544258433555
            ],
            [
            1603572392274,
            5941.096427390388
            ],
            [
            1603572701959,
            5922.760688038915
            ],
            [
            1603572969002,
            5881.765951559505
            ],
            [
            1603573243448,
            5881.063154586546
            ],
            [
            1603573579866,
            5878.512663539283
            ],
            [
            1603573712903,
            5884.886944099509
            ],
            [
            1603574050454,
            5887.3963537874815
            ],
            [
            1603574361572,
            5770.241123280416
            ],
            [
            1603574672225,
            5771.610367496096
            ],
            [
            1603575055906,
            5761.478294630396
            ],
            [
            1603575337702,
            5760.639724472842
            ],
            [
            1603575630203,
            5756.574200509254
            ],
            [
            1603575821540,
            5753.082712431987
            ],
            [
            1603576112160,
            5765.582857548744
            ],
            [
            1603576437651,
            5765.106679657817
            ],
            [
            1603576867667,
            5756.193425983812
            ],
            [
            1603577467718,
            5570.925082360598
            ],
            [
            1603577788023,
            5606.276460029177
            ],
            [
            1603578137637,
            5678.945464576187
            ],
            [
            1603578685163,
            5718.798600595409
            ],
            [
            1603579008089,
            5734.634062662832
            ],
            [
            1603579507677,
            5690.3614485247845
            ],
            [
            1603579670486,
            5665.722223822327
            ],
            [
            1603579976348,
            5676.321782480545
            ],
            [
            1603580266306,
            5681.093185357833
            ],
            [
            1603580630169,
            5678.9744232792655
            ],
            [
            1603580795260,
            5643.411798399972
            ],
            [
            1603581167129,
            5649.548057923508
            ],
            [
            1603581620901,
            5648.594757883603
            ],
            [
            1603581797441,
            5643.166735677799
            ],
            [
            1603582238408,
            5646.627007271731
            ],
            [
            1603582478029,
            5650.797879034155
            ],
            [
            1603582930887,
            5655.792953294254
            ],
            [
            1603583209091,
            5186.216600171797
            ],
            [
            1603583483749,
            5172.2476268477085
            ],
            [
            1603583747290,
            5190.64452327681
            ],
            [
            1603584120533,
            5346.89160510641
            ],
            [
            1603584339662,
            5341.630710689571
            ],
            [
            1603584689813,
            5407.229690228169
            ],
            [
            1603584885429,
            5447.0367852343425
            ],
            [
            1603585230311,
            5429.65730639508
            ],
            [
            1603585618042,
            5437.753456100899
            ],
            [
            1603585763861,
            5437.077203972224
            ],
            [
            1603586153252,
            5424.035873615941
            ],
            [
            1603586408627,
            5429.332094790984
            ],
            [
            1603586684312,
            5436.213217693551
            ],
            [
            1603587035989,
            5447.005101708264
            ],
            [
            1603587362876,
            5298.466083944797
            ],
            [
            1603587634352,
            5136.807751869933
            ],
            [
            1603588336516,
            5159.940572677048
            ],
            [
            1603588691958,
            5178.008971277571
            ],
            [
            1603589013618,
            5220.591977699482
            ],
            [
            1603589467197,
            5365.9470643174045
            ],
            [
            1603590097981,
            5229.9017190743425
            ],
            [
            1603590396477,
            5230.793990217984
            ],
            [
            1603590618499,
            5117.589096539744
            ],
            [
            1603590954440,
            5187.942382178123
            ],
            [
            1603591354249,
            5217.227184663773
            ],
            [
            1603591863936,
            5247.7123452673
            ],
            [
            1603591985933,
            5246.829810526767
            ],
            [
            1603592304122,
            5239.215847482106
            ],
            [
            1603592784333,
            5101.527126994881
            ],
            [
            1603592977122,
            4993.0672400536305
            ],
            [
            1603593338162,
            4932.046083125147
            ],
            [
            1603593671595,
            4888.2922014602245
            ],
            [
            1603594094387,
            4814.493966236872
            ],
            [
            1603594400937,
            4912.556018296272
            ],
            [
            1603594873373,
            4925.432197131014
            ],
            [
            1603595125394,
            4926.4623137267945
            ],
            [
            1603595458294,
            4910.096501757009
            ],
            [
            1603595559081,
            4910.0578697730825
            ],
            [
            1603596066292,
            4876.5234460855245
            ],
            [
            1603596330174,
            4854.021823157914
            ],
            [
            1603596729669,
            4868.367987305708
            ],
            [
            1603596909454,
            4908.9292683475405
            ],
            [
            1603597184829,
            4872.614785649899
            ],
            [
            1603597574618,
            4919.380472055094
            ],
            [
            1603597943524,
            4952.241579033543
            ],
            [
            1603598140852,
            4946.926636494331
            ],
            [
            1603598553387,
            4970.179770365939
            ],
            [
            1603598944196,
            5011.363279600457
            ],
            [
            1603599187056,
            5128.005011823183
            ],
            [
            1603599613032,
            5135.0017656123
            ],
            [
            1603599861847,
            5166.163770461731
            ],
            [
            1603600227988,
            5175.217555110156
            ],
            [
            1603600610894,
            5177.085080167532
            ],
            [
            1603600791661,
            5188.497650184485
            ],
            [
            1603601120501,
            5180.551440752915
            ],
            [
            1603601494868,
            5185.486018834082
            ],
            [
            1603602109559,
            5165.140177123904
            ],
            [
            1603602307237,
            5160.573608750335
            ],
            [
            1603602580745,
            5145.196792943237
            ],
            [
            1603602881019,
            5098.9929731000175
            ],
            [
            1603603177863,
            5072.119474068278
            ],
            [
            1603603559066,
            4968.219622976716
            ],
            [
            1603603856362,
            5010.232085388747
            ],
            [
            1603604133468,
            5011.304961236376
            ],
            [
            1603604452710,
            5005.638828603769
            ],
            [
            1603604736429,
            4992.574048982211
            ],
            [
            1603605087873,
            4939.876275213618
            ],
            [
            1603605262827,
            4920.321618332807
            ],
            [
            1603605628262,
            4907.483559533483
            ],
            [
            1603605781586,
            4854.974699766342
            ],
            [
            1603606227723,
            4875.80991807488
            ],
            [
            1603606395406,
            4879.179461917806
            ],
            [
            1603606714407,
            4879.636309922804
            ],
            [
            1603607046510,
            4881.253085770624
            ],
            [
            1603607425052,
            4864.611695747438
            ],
            [
            1603607763277,
            4860.778397320919
            ],
            [
            1603608082269,
            4866.818538543999
            ],
            [
            1603608351829,
            4873.421227407662
            ],
            [
            1603608639004,
            4878.083578361655
            ],
            [
            1603608965162,
            4875.113356208963
            ],
            [
            1603609274302,
            4870.434665620569
            ],
            [
            1603609809536,
            4867.109513075488
            ],
            [
            1603610348460,
            4752.982127549222
            ],
            [
            1603611007079,
            4735.890265394347
            ],
            [
            1603611412032,
            4566.568696647398
            ],
            [
            1603611865662,
            4621.864420221876
            ],
            [
            1603612148853,
            4777.525848495653
            ],
            [
            1603612565312,
            4785.276671380142
            ],
            [
            1603612918998,
            4791.268520211044
            ],
            [
            1603613261158,
            4791.7208172560095
            ],
            [
            1603613606449,
            4790.488133385877
            ],
            [
            1603613924366,
            4808.8427626927605
            ],
            [
            1603614273096,
            4810.504502796033
            ],
            [
            1603614745304,
            4808.157794901196
            ],
            [
            1603615208352,
            4809.013089245778
            ],
            [
            1603615785569,
            4810.001993303235
            ],
            [
            1603615931858,
            4816.966480523035
            ],
            [
            1603616146348,
            4812.561149209058
            ],
            [
            1603616671048,
            4805.844327235994
            ],
            [
            1603617027508,
            4804.05248748379
            ],
            [
            1603617261496,
            4803.348332114384
            ],
            [
            1603617396948,
            4804.1439521532675
            ],
            [
            1603617835354,
            4797.997713716474
            ],
            [
            1603618140245,
            4812.216721066537
            ],
            [
            1603618455871,
            4831.411601800255
            ],
            [
            1603618759149,
            4825.2108253282895
            ],
            [
            1603619389421,
            4825.362086422857
            ],
            [
            1603619567740,
            4824.176006640535
            ],
            [
            1603619893100,
            4580.191888823861
            ],
            [
            1603620127250,
            4604.191985847007
            ],
            [
            1603620521228,
            4597.158717594337
            ],
            [
            1603620976851,
            4550.702553838976
            ],
            [
            1603621470401,
            4481.968569228455
            ],
            [
            1603621784486,
            4479.54096898209
            ],
            [
            1603622073242,
            4482.157710915917
            ],
            [
            1603622342429,
            4466.845861901261
            ],
            [
            1603622678222,
            4527.422489663854
            ],
            [
            1603623005974,
            4527.31609278099
            ],
            [
            1603623439894,
            4560.099254664011
            ],
            [
            1603623815352,
            4580.252044587726
            ],
            [
            1603624045724,
            4571.735446514994
            ],
            [
            1603624335685,
            4598.939534668465
            ],
            [
            1603624694091,
            4591.691647169101
            ],
            [
            1603625050484,
            4569.767631869415
            ],
            [
            1603625390957,
            4577.585269004727
            ],
            [
            1603625682361,
            4573.488082048553
            ],
            [
            1603625950786,
            4598.593478015491
            ],
            [
            1603626250525,
            4619.249893591276
            ],
            [
            1603626613704,
            4621.9843177897565
            ],
            [
            1603626964550,
            4623.241790115797
            ],
            [
            1603627319824,
            4627.736523235109
            ],
            [
            1603627708802,
            4626.697794111737
            ],
            [
            1603627998170,
            4632.61179397423
            ],
            [
            1603628359456,
            4637.348018923737
            ],
            [
            1603628837011,
            4648.634961228945
            ],
            [
            1603629253765,
            4647.926481911748
            ],
            [
            1603629553107,
            4646.466345939407
            ],
            [
            1603629901541,
            4679.789994572156
            ],
            [
            1603630181412,
            4682.604837695135
            ],
            [
            1603630385009,
            4683.2005606225885
            ],
            [
            1603630779588,
            4685.781206466239
            ],
            [
            1603631054216,
            4680.188576048794
            ],
            [
            1603631318458,
            4682.85530526703
            ],
            [
            1603631628518,
            4680.904946933562
            ],
            [
            1603631839691,
            4680.967225005357
            ],
            [
            1603632041499,
            4685.997974619586
            ],
            [
            1603632573722,
            4685.541191631415
            ],
            [
            1603632802438,
            4689.969424746375
            ],
            [
            1603633105324,
            4684.760166534251
            ],
            [
            1603633415336,
            4684.2031462655805
            ],
            [
            1603633751180,
            4672.801467347789
            ],
            [
            1603634159683,
            4673.842053835566
            ],
            [
            1603634514935,
            4663.344501092346
            ],
            [
            1603634948112,
            4666.009104062419
            ],
            [
            1603635278612,
            4670.146578204802
            ],
            [
            1603635600338,
            4686.996385926918
            ],
            [
            1603635881165,
            4689.794805624906
            ],
            [
            1603636214080,
            4702.715229992167
            ],
            [
            1603636813556,
            4854.746279576917
            ],
            [
            1603636944245,
            4856.375903595599
            ],
            [
            1603637294034,
            4863.4473007531715
            ],
            [
            1603637649115,
            4840.106597233379
            ],
            [
            1603637956394,
            4841.970378069559
            ],
            [
            1603638409941,
            4860.244283700009
            ],
            [
            1603638826130,
            4864.881331929539
            ],
            [
            1603639142922,
            4866.8608096449725
            ],
            [
            1603639429911,
            4866.679942700649
            ],
            [
            1603639765091,
            4856.393902849343
            ],
            [
            1603639928572,
            4843.071387792564
            ],
            [
            1603640387245,
            4836.802467858189
            ],
            [
            1603640858609,
            4834.885986652743
            ],
            [
            1603641200376,
            4830.355833748921
            ],
            [
            1603641550456,
            4813.82886289573
            ],
            [
            1603641820169,
            4810.896753177676
            ],
            [
            1603642006249,
            4797.533708419002
            ],
            [
            1603642397681,
            4826.916094261014
            ],
            [
            1603642830717,
            4806.717324569815
            ],
            [
            1603643083512,
            4705.800185891364
            ],
            [
            1603643351962,
            4606.801043828515
            ],
            [
            1603643738789,
            4620.8539541207665
            ],
            [
            1603644072757,
            4617.720990570581
            ],
            [
            1603644382183,
            4619.888301398049
            ],
            [
            1603644651725,
            4623.642330161698
            ],
            [
            1603644979478,
            4624.925691041847
            ],
            [
            1603645283344,
            4570.658387403322
            ],
            [
            1603645589073,
            4581.821675961432
            ],
            [
            1603645938576,
            4594.604950207293
            ],
            [
            1603646157900,
            4604.8938381152775
            ],
            [
            1603646427300,
            4605.531162299742
            ],
            [
            1603646599109,
            4605.833028544586
            ],
            [
            1603647068855,
            4606.407400166546
            ],
            [
            1603647260182,
            4594.516524496058
            ],
            [
            1603647617409,
            4583.342648076348
            ],
            [
            1603647978895,
            4564.822548265447
            ],
            [
            1603648245890,
            4564.641861390598
            ],
            [
            1603648485802,
            4562.430536721113
            ],
            [
            1603648807259,
            4569.157470480363
            ],
            [
            1603649082870,
            4573.352353287533
            ],
            [
            1603649449129,
            4567.624592105827
            ],
            [
            1603649626582,
            4566.709287665064
            ],
            [
            1603649979314,
            4563.9744450101525
            ],
            [
            1603650361957,
            4579.746080111653
            ],
            [
            1603650679954,
            4576.528278515182
            ],
            [
            1603650679000,
            4576.528278515182
            ]
            ],
            "market_caps": [
            [
            1603564606272,
            60237805.49492628
            ],
            [
            1603564982586,
            60165596.61688415
            ],
            [
            1603565385613,
            60165596.61688415
            ],
            [
            1603565751405,
            60165596.61688415
            ],
            [
            1603566062568,
            59761799.72277274
            ],
            [
            1603566326985,
            59761799.72277274
            ],
            [
            1603566600730,
            59950044.16106132
            ],
            [
            1603566918470,
            60043813.31676683
            ],
            [
            1603567252041,
            60043813.31676683
            ],
            [
            1603567600735,
            60085409.22115109
            ],
            [
            1603567881333,
            60085409.22115109
            ],
            [
            1603568120958,
            59427414.0090081
            ],
            [
            1603568469242,
            59427414.0090081
            ],
            [
            1603568673790,
            59465331.60987443
            ],
            [
            1603569013590,
            59465331.60987443
            ],
            [
            1603569161357,
            59567465.23098555
            ],
            [
            1603569681061,
            59567465.23098555
            ],
            [
            1603569965128,
            59567465.23098555
            ],
            [
            1603570270747,
            59671012.01850119
            ],
            [
            1603570466853,
            59635760.94126016
            ],
            [
            1603570819814,
            59635760.94126016
            ],
            [
            1603571150859,
            59675406.80162767
            ],
            [
            1603571464536,
            59675406.80162767
            ],
            [
            1603571769828,
            59549283.39957327
            ],
            [
            1603572051718,
            59549283.39957327
            ],
            [
            1603572392274,
            59416037.2801627
            ],
            [
            1603572701959,
            59416037.2801627
            ],
            [
            1603572969002,
            59219803.84584478
            ],
            [
            1603573243448,
            59219803.84584478
            ],
            [
            1603573579866,
            59219803.84584478
            ],
            [
            1603573712903,
            58785126.63539283
            ],
            [
            1603574050454,
            58873963.53787482
            ],
            [
            1603574361572,
            58873963.53787482
            ],
            [
            1603574672225,
            57702411.23280416
            ],
            [
            1603575055906,
            57702411.23280416
            ],
            [
            1603575337702,
            57702411.23280416
            ],
            [
            1603575630203,
            57606397.24472842
            ],
            [
            1603575821540,
            57530827.12431987
            ],
            [
            1603576112160,
            57530827.12431987
            ],
            [
            1603576437651,
            57651066.79657817
            ],
            [
            1603576867667,
            57651066.79657817
            ],
            [
            1603577467718,
            57561934.25983812
            ],
            [
            1603577788023,
            55709250.82360598
            ],
            [
            1603578137637,
            55709250.82360598
            ],
            [
            1603578685163,
            56789454.64576187
            ],
            [
            1603579008089,
            57187986.00595409
            ],
            [
            1603579507677,
            56928579.96314617
            ],
            [
            1603579670486,
            56928579.96314617
            ],
            [
            1603579976348,
            56763217.82480545
            ],
            [
            1603580266306,
            56763217.82480545
            ],
            [
            1603580630169,
            56763217.82480545
            ],
            [
            1603580795260,
            56434117.98399972
            ],
            [
            1603581167129,
            56495480.57923508
            ],
            [
            1603581620901,
            56495480.57923508
            ],
            [
            1603581797441,
            56431667.35677799
            ],
            [
            1603582238408,
            56431667.35677799
            ],
            [
            1603582478029,
            56507978.79034155
            ],
            [
            1603582930887,
            56507978.79034155
            ],
            [
            1603583209091,
            56557929.53294254
            ],
            [
            1603583483749,
            56557929.53294254
            ],
            [
            1603583747290,
            51722476.26847708
            ],
            [
            1603584120533,
            51722476.26847708
            ],
            [
            1603584339662,
            51722476.26847708
            ],
            [
            1603584689813,
            54082077.74050777
            ],
            [
            1603584885429,
            54470367.85234342
            ],
            [
            1603585230311,
            54470367.85234342
            ],
            [
            1603585618042,
            54328102.25308256
            ],
            [
            1603585763861,
            54328102.25308256
            ],
            [
            1603586153252,
            54328102.25308256
            ],
            [
            1603586408627,
            54240358.73615941
            ],
            [
            1603586684312,
            54362132.17693551
            ],
            [
            1603587035989,
            54362132.17693551
            ],
            [
            1603587362876,
            54472987.50164235
            ],
            [
            1603587634352,
            54472987.50164235
            ],
            [
            1603588336516,
            51368077.51869933
            ],
            [
            1603588691958,
            51599405.72677048
            ],
            [
            1603589013618,
            52205919.77699482
            ],
            [
            1603589467197,
            52205919.77699482
            ],
            [
            1603590097981,
            53659470.64317405
            ],
            [
            1603590396477,
            52260156.2609709
            ],
            [
            1603590618499,
            52260156.2609709
            ],
            [
            1603590954440,
            51175890.96539744
            ],
            [
            1603591354249,
            51175890.96539744
            ],
            [
            1603591863936,
            52172271.84663773
            ],
            [
            1603591985933,
            52468298.10526767
            ],
            [
            1603592304122,
            52468298.10526767
            ],
            [
            1603592784333,
            51006737.52514869
            ],
            [
            1603592977122,
            51006737.52514869
            ],
            [
            1603593338162,
            49320460.83125147
            ],
            [
            1603593671595,
            49320460.83125147
            ],
            [
            1603594094387,
            48882922.01460225
            ],
            [
            1603594400937,
            49125560.18296272
            ],
            [
            1603594873373,
            49125560.18296272
            ],
            [
            1603595125394,
            49125560.18296272
            ],
            [
            1603595458294,
            49264623.13726794
            ],
            [
            1603595559081,
            49100578.69773083
            ],
            [
            1603596066292,
            49100578.69773083
            ],
            [
            1603596330174,
            48765234.46085524
            ],
            [
            1603596729669,
            48765234.46085524
            ],
            [
            1603596909454,
            49089292.68347541
            ],
            [
            1603597184829,
            49089292.68347541
            ],
            [
            1603597574618,
            49129178.37485889
            ],
            [
            1603597943524,
            49129178.37485889
            ],
            [
            1603598140852,
            49522415.79033543
            ],
            [
            1603598553387,
            49522415.79033543
            ],
            [
            1603598944196,
            49701797.70365939
            ],
            [
            1603599187056,
            51280050.11823183
            ],
            [
            1603599613032,
            51280050.11823183
            ],
            [
            1603599861847,
            51661637.70461731
            ],
            [
            1603600227988,
            51661637.70461731
            ],
            [
            1603600610894,
            51746405.85019935
            ],
            [
            1603600791661,
            51746405.85019935
            ],
            [
            1603601120501,
            51884976.50184485
            ],
            [
            1603601494868,
            51884976.50184485
            ],
            [
            1603602109559,
            51854860.18834082
            ],
            [
            1603602307237,
            51854860.18834082
            ],
            [
            1603602580745,
            51605736.08750335
            ],
            [
            1603602881019,
            51451967.92943237
            ],
            [
            1603603177863,
            51451967.92943237
            ],
            [
            1603603559066,
            50724705.72129525
            ],
            [
            1603603856362,
            50724705.72129525
            ],
            [
            1603604133468,
            50113049.61236376
            ],
            [
            1603604452710,
            50113049.61236376
            ],
            [
            1603604736429,
            50056388.28603769
            ],
            [
            1603605087873,
            50056388.28603769
            ],
            [
            1603605262827,
            49203216.18332807
            ],
            [
            1603605628262,
            49203216.18332807
            ],
            [
            1603605781586,
            49203216.18332807
            ],
            [
            1603606227723,
            48549746.99766342
            ],
            [
            1603606395406,
            48791794.61917806
            ],
            [
            1603606714407,
            48791794.61917806
            ],
            [
            1603607046510,
            48812530.85770624
            ],
            [
            1603607425052,
            48812530.85770624
            ],
            [
            1603607763277,
            48812530.85770624
            ],
            [
            1603608082269,
            48607783.97320919
            ],
            [
            1603608351829,
            48668185.38543999
            ],
            [
            1603608639004,
            48668185.38543999
            ],
            [
            1603608965162,
            48761525.4966198
            ],
            [
            1603609274302,
            48761525.4966198
            ],
            [
            1603609809536,
            48704346.65620569
            ],
            [
            1603610348460,
            48671095.13075488
            ],
            [
            1603611007079,
            47529821.27549222
            ],
            [
            1603611412032,
            47358902.65394347
            ],
            [
            1603611865662,
            45665686.96647398
            ],
            [
            1603612148853,
            45665686.96647398
            ],
            [
            1603612565312,
            47775258.48495653
            ],
            [
            1603612918998,
            47775258.48495653
            ],
            [
            1603613261158,
            47912685.20211044
            ],
            [
            1603613606449,
            47917208.17256009
            ],
            [
            1603613924366,
            47917208.17256009
            ],
            [
            1603614273096,
            48088427.62692761
            ],
            [
            1603614745304,
            48081577.94901196
            ],
            [
            1603615208352,
            48081577.94901196
            ],
            [
            1603615785569,
            48090130.89245778
            ],
            [
            1603615931858,
            48169664.80523035
            ],
            [
            1603616146348,
            48169664.80523035
            ],
            [
            1603616671048,
            48169664.80523035
            ],
            [
            1603617027508,
            48058443.27235994
            ],
            [
            1603617261496,
            48038679.05795988
            ],
            [
            1603617396948,
            48038679.05795988
            ],
            [
            1603617835354,
            48020291.67435833
            ],
            [
            1603618140245,
            48020291.67435833
            ],
            [
            1603618455871,
            48020291.67435833
            ],
            [
            1603618759149,
            48314116.01800255
            ],
            [
            1603619389421,
            48252108.2532829
            ],
            [
            1603619567740,
            48253620.86422857
            ],
            [
            1603619893100,
            48253620.86422857
            ],
            [
            1603620127250,
            48253620.86422857
            ],
            [
            1603620521228,
            46025542.19764579
            ],
            [
            1603620976851,
            45971587.17594337
            ],
            [
            1603621470401,
            44840245.10424444
            ],
            [
            1603621784486,
            44840245.10424444
            ],
            [
            1603622073242,
            44821577.10915917
            ],
            [
            1603622342429,
            44821577.10915917
            ],
            [
            1603622678222,
            44668458.61901261
            ],
            [
            1603623005974,
            44668458.61901261
            ],
            [
            1603623439894,
            45273160.9278099
            ],
            [
            1603623815352,
            45273160.9278099
            ],
            [
            1603624045724,
            45802520.44587726
            ],
            [
            1603624335685,
            45989395.34668465
            ],
            [
            1603624694091,
            45989395.34668465
            ],
            [
            1603625050484,
            45901892.09583516
            ],
            [
            1603625390957,
            45901892.09583516
            ],
            [
            1603625682361,
            45734880.82048553
            ],
            [
            1603625950786,
            45734880.82048553
            ],
            [
            1603626250525,
            46003334.56471039
            ],
            [
            1603626613704,
            46003334.56471039
            ],
            [
            1603626964550,
            46219843.17789756
            ],
            [
            1603627319824,
            46219843.17789756
            ],
            [
            1603627708802,
            46266977.94111737
            ],
            [
            1603627998170,
            46272942.55062922
            ],
            [
            1603628359456,
            46272942.55062922
            ],
            [
            1603628837011,
            46373480.18923737
            ],
            [
            1603629253765,
            46373480.18923737
            ],
            [
            1603629553107,
            46479264.81911748
            ],
            [
            1603629901541,
            46464578.41290319
            ],
            [
            1603630181412,
            46464578.41290319
            ],
            [
            1603630385009,
            46832005.60622588
            ],
            [
            1603630779588,
            46832005.60622588
            ],
            [
            1603631054216,
            46832005.60622588
            ],
            [
            1603631318458,
            46801885.76048794
            ],
            [
            1603631628518,
            46798725.63406116
            ],
            [
            1603631839691,
            46798725.63406116
            ],
            [
            1603632041499,
            46859979.74619586
            ],
            [
            1603632573722,
            46859979.74619586
            ],
            [
            1603632802438,
            46899694.24746375
            ],
            [
            1603633105324,
            46899694.24746375
            ],
            [
            1603633415336,
            46847601.66534251
            ],
            [
            1603633751180,
            46847601.66534251
            ],
            [
            1603634159683,
            46728014.67347789
            ],
            [
            1603634514935,
            46728014.67347789
            ],
            [
            1603634948112,
            46633445.01092346
            ],
            [
            1603635278612,
            46660091.04062419
            ],
            [
            1603635600338,
            46660091.04062419
            ],
            [
            1603635881165,
            46869963.85926918
            ],
            [
            1603636214080,
            46869963.85926918
            ],
            [
            1603636813556,
            47027152.29992167
            ],
            [
            1603636944245,
            48563759.03595599
            ],
            [
            1603637294034,
            48563759.03595599
            ],
            [
            1603637649115,
            48621889.41920172
            ],
            [
            1603637956394,
            48621889.41920172
            ],
            [
            1603638409941,
            48419703.78069559
            ],
            [
            1603638826130,
            48642936.29714734
            ],
            [
            1603639142922,
            48642936.29714734
            ],
            [
            1603639429911,
            48668608.09644973
            ],
            [
            1603639765091,
            48668608.09644973
            ],
            [
            1603639928572,
            48430713.87792564
            ],
            [
            1603640387245,
            48430713.87792564
            ],
            [
            1603640858609,
            48368024.67858189
            ],
            [
            1603641200376,
            48348859.86652743
            ],
            [
            1603641550456,
            48348859.86652743
            ],
            [
            1603641820169,
            48348859.86652743
            ],
            [
            1603642006249,
            48108967.53177676
            ],
            [
            1603642397681,
            48220999.53927507
            ],
            [
            1603642830717,
            48220999.53927507
            ],
            [
            1603643083512,
            48067173.24569815
            ],
            [
            1603643351962,
            48067173.24569815
            ],
            [
            1603643738789,
            46208539.54120767
            ],
            [
            1603644072757,
            46208539.54120767
            ],
            [
            1603644382183,
            46181893.46810716
            ],
            [
            1603644651725,
            46181893.46810716
            ],
            [
            1603644979478,
            46236423.30161698
            ],
            [
            1603645283344,
            46236423.30161698
            ],
            [
            1603645589073,
            45818216.75961432
            ],
            [
            1603645938576,
            45818216.75961432
            ],
            [
            1603646157900,
            45946049.50207293
            ],
            [
            1603646427300,
            45946049.50207293
            ],
            [
            1603646599109,
            46058330.28544586
            ],
            [
            1603647068855,
            46058330.28544586
            ],
            [
            1603647260182,
            45945165.24496058
            ],
            [
            1603647617409,
            45945165.24496058
            ],
            [
            1603647978895,
            45839313.71918545
            ],
            [
            1603648245890,
            45839313.71918545
            ],
            [
            1603648485802,
            45646418.61390598
            ],
            [
            1603648807259,
            45646418.61390598
            ],
            [
            1603649082870,
            45646418.61390598
            ],
            [
            1603649449129,
            45686346.2305139
            ],
            [
            1603649626582,
            45667092.87665064
            ],
            [
            1603649979314,
            45667092.87665064
            ],
            [
            1603650361957,
            45639744.45010153
            ],
            [
            1603650679954,
            45639744.45010153
            ],
            [
            1603650679000,
            45639744.45010153
            ]
            ],
            "total_volumes": [
            [
            1603564606272,
            4703277.904763699
            ],
            [
            1603564982586,
            4684769.284595913
            ],
            [
            1603565385613,
            4673285.737514563
            ],
            [
            1603565751405,
            4653196.907840919
            ],
            [
            1603566062568,
            4646115.8024299275
            ],
            [
            1603566326985,
            4602710.991122317
            ],
            [
            1603566600730,
            4605048.815509084
            ],
            [
            1603566918470,
            4560144.006222524
            ],
            [
            1603567252041,
            4584435.1490144115
            ],
            [
            1603567600735,
            4575049.48632914
            ],
            [
            1603567881333,
            4602569.307991409
            ],
            [
            1603568120958,
            4585291.440211975
            ],
            [
            1603568469242,
            4534193.499440494
            ],
            [
            1603568673790,
            4537397.416843943
            ],
            [
            1603569013590,
            4352275.853765361
            ],
            [
            1603569161357,
            4343802.519405923
            ],
            [
            1603569681061,
            4348386.007707283
            ],
            [
            1603569965128,
            4372294.124081726
            ],
            [
            1603570270747,
            4344629.969555782
            ],
            [
            1603570466853,
            4342326.976145213
            ],
            [
            1603570819814,
            4331090.604113144
            ],
            [
            1603571150859,
            4321412.380025657
            ],
            [
            1603571464536,
            4320839.552469698
            ],
            [
            1603571769828,
            4318058.205172247
            ],
            [
            1603572051718,
            4307264.311321251
            ],
            [
            1603572392274,
            4243534.819053333
            ],
            [
            1603572701959,
            3924788.399685485
            ],
            [
            1603572969002,
            3951714.7665841538
            ],
            [
            1603573243448,
            3941077.853319743
            ],
            [
            1603573579866,
            3939472.645960402
            ],
            [
            1603573712903,
            3907235.133465797
            ],
            [
            1603574050454,
            3868469.7785968296
            ],
            [
            1603574361572,
            4010105.326822322
            ],
            [
            1603574672225,
            4010815.2747361492
            ],
            [
            1603575055906,
            4015054.69081425
            ],
            [
            1603575337702,
            4034585.793571587
            ],
            [
            1603575630203,
            4041944.45524299
            ],
            [
            1603575821540,
            4039507.904339215
            ],
            [
            1603576112160,
            4076111.690698061
            ],
            [
            1603576437651,
            4099743.262059252
            ],
            [
            1603576867667,
            4083945.875471925
            ],
            [
            1603577467718,
            4198574.60529498
            ],
            [
            1603577788023,
            4456925.508218968
            ],
            [
            1603578137637,
            4649518.398116259
            ],
            [
            1603578685163,
            4664531.78241908
            ],
            [
            1603579008089,
            4627300.494057399
            ],
            [
            1603579507677,
            4699351.753942344
            ],
            [
            1603579670486,
            4650950.607943219
            ],
            [
            1603579976348,
            4580605.022532549
            ],
            [
            1603580266306,
            4591201.931178796
            ],
            [
            1603580630169,
            4589692.491425684
            ],
            [
            1603580795260,
            4594073.874254968
            ],
            [
            1603581167129,
            4525298.069857301
            ],
            [
            1603581620901,
            4522923.855008937
            ],
            [
            1603581797441,
            4526148.117358574
            ],
            [
            1603582238408,
            4531742.984167274
            ],
            [
            1603582478029,
            4539792.500627494
            ],
            [
            1603582930887,
            4550919.4084411645
            ],
            [
            1603583209091,
            5483636.25277452
            ],
            [
            1603583483749,
            5654754.111728109
            ],
            [
            1603583747290,
            5695762.833547789
            ],
            [
            1603584120533,
            6455853.853202769
            ],
            [
            1603584339662,
            6455368.701840778
            ],
            [
            1603584689813,
            6701426.239803028
            ],
            [
            1603584885429,
            6837480.313784235
            ],
            [
            1603585230311,
            6855023.1466223495
            ],
            [
            1603585618042,
            6880106.7933327025
            ],
            [
            1603585763861,
            6879368.11860498
            ],
            [
            1603586153252,
            6916821.794458758
            ],
            [
            1603586408627,
            6937807.819189305
            ],
            [
            1603586684312,
            6957885.783997868
            ],
            [
            1603587035989,
            6980039.306526382
            ],
            [
            1603587362876,
            7018086.423402862
            ],
            [
            1603587634352,
            7052285.040876407
            ],
            [
            1603588336516,
            7217684.257645192
            ],
            [
            1603588691958,
            7268550.890177257
            ],
            [
            1603589013618,
            7397953.206135948
            ],
            [
            1603589467197,
            7882596.941867746
            ],
            [
            1603590097981,
            8051439.848672399
            ],
            [
            1603590396477,
            8062322.244426211
            ],
            [
            1603590618499,
            8242926.702840871
            ],
            [
            1603590954440,
            8534438.34436758
            ],
            [
            1603591354249,
            8706290.715752015
            ],
            [
            1603591863936,
            8820890.158989262
            ],
            [
            1603591985933,
            8819496.45525258
            ],
            [
            1603592304122,
            8834705.85380483
            ],
            [
            1603592784333,
            8807956.131671065
            ],
            [
            1603592977122,
            8803245.334221318
            ],
            [
            1603593338162,
            8804163.959365185
            ],
            [
            1603593671595,
            8909687.703917164
            ],
            [
            1603594094387,
            9059557.700688444
            ],
            [
            1603594400937,
            9444413.853560291
            ],
            [
            1603594873373,
            9549901.413484223
            ],
            [
            1603595125394,
            9581919.554977689
            ],
            [
            1603595458294,
            9481450.18359692
            ],
            [
            1603595559081,
            9480711.889905885
            ],
            [
            1603596066292,
            9439525.294201331
            ],
            [
            1603596330174,
            9394993.765437294
            ],
            [
            1603596729669,
            9443670.348638937
            ],
            [
            1603596909454,
            9522401.043274375
            ],
            [
            1603597184829,
            9533080.071380356
            ],
            [
            1603597574618,
            9745202.52881309
            ],
            [
            1603597943524,
            9865951.784174548
            ],
            [
            1603598140852,
            9858149.787759384
            ],
            [
            1603598553387,
            9924240.118056146
            ],
            [
            1603598944196,
            10067551.413095338
            ],
            [
            1603599187056,
            10604000.144113258
            ],
            [
            1603599613032,
            10608904.639799928
            ],
            [
            1603599861847,
            10650800.564715309
            ],
            [
            1603600227988,
            10681809.270080682
            ],
            [
            1603600610894,
            10687364.826790908
            ],
            [
            1603600791661,
            10730315.422488334
            ],
            [
            1603601120501,
            10716036.02731258
            ],
            [
            1603601494868,
            10762740.792500613
            ],
            [
            1603602109559,
            10761806.423991065
            ],
            [
            1603602307237,
            10829187.778238717
            ],
            [
            1603602580745,
            10797612.623461947
            ],
            [
            1603602881019,
            10800162.913629938
            ],
            [
            1603603177863,
            10775773.4631698
            ],
            [
            1603603559066,
            10737986.5599331
            ],
            [
            1603603856362,
            10913287.736019362
            ],
            [
            1603604133468,
            10925182.690042095
            ],
            [
            1603604452710,
            10916765.144005343
            ],
            [
            1603604736429,
            10892133.779358696
            ],
            [
            1603605087873,
            10773419.59108925
            ],
            [
            1603605262827,
            10746153.617269576
            ],
            [
            1603605628262,
            10721496.729190532
            ],
            [
            1603605781586,
            10636096.098612873
            ],
            [
            1603606227723,
            10683346.214710925
            ],
            [
            1603606395406,
            10690780.437391449
            ],
            [
            1603606714407,
            10697437.53156656
            ],
            [
            1603607046510,
            10702988.642479887
            ],
            [
            1603607425052,
            10658563.95587727
            ],
            [
            1603607763277,
            10657405.863461955
            ],
            [
            1603608082269,
            10670691.149898544
            ],
            [
            1603608351829,
            10685539.580570681
            ],
            [
            1603608639004,
            10695566.563085128
            ],
            [
            1603608965162,
            10689374.570795985
            ],
            [
            1603609274302,
            10688380.49764806
            ],
            [
            1603609809536,
            10657417.903547417
            ],
            [
            1603610348460,
            10645974.431643823
            ],
            [
            1603611007079,
            10693250.679807175
            ],
            [
            1603611412032,
            10595609.745436674
            ],
            [
            1603611865662,
            10961018.349751947
            ],
            [
            1603612148853,
            11701867.771976694
            ],
            [
            1603612565312,
            11710561.81131607
            ],
            [
            1603612918998,
            11742590.92990958
            ],
            [
            1603613261158,
            11741491.555142427
            ],
            [
            1603613606449,
            11742080.667346554
            ],
            [
            1603613924366,
            11832539.760590624
            ],
            [
            1603614273096,
            11833187.875176948
            ],
            [
            1603614745304,
            11830622.736709235
            ],
            [
            1603615208352,
            11838086.779858818
            ],
            [
            1603615785569,
            11846033.336029124
            ],
            [
            1603615931858,
            11863266.51857059
            ],
            [
            1603616146348,
            11855580.873756496
            ],
            [
            1603616671048,
            11842725.855805371
            ],
            [
            1603617027508,
            11839819.625664935
            ],
            [
            1603617261496,
            11838215.789886672
            ],
            [
            1603617396948,
            11841703.944387738
            ],
            [
            1603617835354,
            11824026.008522788
            ],
            [
            1603618140245,
            11886136.298606373
            ],
            [
            1603618455871,
            11961176.866353793
            ],
            [
            1603618759149,
            11948648.919713087
            ],
            [
            1603619389421,
            11944400.346166342
            ],
            [
            1603619567740,
            11941684.817119503
            ],
            [
            1603619893100,
            11685381.663430281
            ],
            [
            1603620127250,
            11832080.07017732
            ],
            [
            1603620521228,
            11853636.085016716
            ],
            [
            1603620976851,
            11833912.344887491
            ],
            [
            1603621470401,
            11788398.417610174
            ],
            [
            1603621784486,
            11810859.375790002
            ],
            [
            1603622073242,
            11874026.160688672
            ],
            [
            1603622342429,
            11866812.784808196
            ],
            [
            1603622678222,
            12281703.059887052
            ],
            [
            1603623005974,
            12281570.27816085
            ],
            [
            1603623439894,
            12406208.333080923
            ],
            [
            1603623815352,
            12499108.395195177
            ],
            [
            1603624045724,
            12476486.733692015
            ],
            [
            1603624335685,
            12604866.835556854
            ],
            [
            1603624694091,
            12598916.029336926
            ],
            [
            1603625050484,
            12604799.269886995
            ],
            [
            1603625390957,
            12628252.32914464
            ],
            [
            1603625682361,
            12617445.033131698
            ],
            [
            1603625950786,
            12744117.878526356
            ],
            [
            1603626250525,
            12823047.868714454
            ],
            [
            1603626613704,
            12838265.140787212
            ],
            [
            1603626964550,
            12843185.457775407
            ],
            [
            1603627319824,
            12859982.646178707
            ],
            [
            1603627708802,
            12824254.482116725
            ],
            [
            1603627998170,
            12840665.72283672
            ],
            [
            1603628359456,
            12854734.012875736
            ],
            [
            1603628837011,
            12897218.196658822
            ],
            [
            1603629253765,
            12900731.271918593
            ],
            [
            1603629553107,
            12898761.028731206
            ],
            [
            1603629901541,
            13040491.106911922
            ],
            [
            1603630181412,
            13050835.23119962
            ],
            [
            1603630385009,
            13052501.360301362
            ],
            [
            1603630779588,
            13070969.634162482
            ],
            [
            1603631054216,
            13050827.080826355
            ],
            [
            1603631318458,
            13068607.93900613
            ],
            [
            1603631628518,
            13063299.226355355
            ],
            [
            1603631839691,
            13063540.153266333
            ],
            [
            1603632041499,
            13070909.182817623
            ],
            [
            1603632573722,
            13074804.083874231
            ],
            [
            1603632802438,
            13087915.747431286
            ],
            [
            1603633105324,
            13077231.12463019
            ],
            [
            1603633415336,
            13070722.31022614
            ],
            [
            1603633751180,
            13055729.207728798
            ],
            [
            1603634159683,
            13059172.777724393
            ],
            [
            1603634514935,
            13029779.775431398
            ],
            [
            1603634948112,
            13044225.552121203
            ],
            [
            1603635278612,
            13063596.158154506
            ],
            [
            1603635600338,
            13125133.84606114
            ],
            [
            1603635881165,
            13131331.41790693
            ],
            [
            1603636214080,
            13195099.791422356
            ],
            [
            1603636813556,
            13984340.235005777
            ],
            [
            1603636944245,
            14046608.72407193
            ],
            [
            1603637294034,
            14058833.09581678
            ],
            [
            1603637649115,
            13911021.050162753
            ],
            [
            1603637956394,
            13899764.117978206
            ],
            [
            1603638409941,
            13975676.962408755
            ],
            [
            1603638826130,
            13983491.496789375
            ],
            [
            1603639142922,
            13987353.318845304
            ],
            [
            1603639429911,
            13986208.594976079
            ],
            [
            1603639765091,
            13975565.362302449
            ],
            [
            1603639928572,
            13966601.33981226
            ],
            [
            1603640387245,
            13919297.956278391
            ],
            [
            1603640858609,
            13912655.751282979
            ],
            [
            1603641200376,
            13900616.458466496
            ],
            [
            1603641550456,
            13851575.389638051
            ],
            [
            1603641820169,
            13843190.680853354
            ],
            [
            1603642006249,
            13793129.198813837
            ],
            [
            1603642397681,
            13881660.56383028
            ],
            [
            1603642830717,
            13867380.31649315
            ],
            [
            1603643083512,
            13757436.895212695
            ],
            [
            1603643351962,
            13243172.140541224
            ],
            [
            1603643738789,
            13289750.894985612
            ],
            [
            1603644072757,
            13280437.462951707
            ],
            [
            1603644382183,
            13327376.166690178
            ],
            [
            1603644651725,
            13311404.171677949
            ],
            [
            1603644979478,
            13314813.766261924
            ],
            [
            1603645283344,
            13166471.226430861
            ],
            [
            1603645589073,
            13198528.518385166
            ],
            [
            1603645938576,
            13255640.53307314
            ],
            [
            1603646157900,
            13324293.835012693
            ],
            [
            1603646427300,
            13326478.17967003
            ],
            [
            1603646599109,
            13327179.678852376
            ],
            [
            1603647068855,
            13319699.137256566
            ],
            [
            1603647260182,
            13337111.913671842
            ],
            [
            1603647617409,
            13335047.014278809
            ],
            [
            1603647978895,
            13317640.187281247
            ],
            [
            1603648245890,
            13308076.577763107
            ],
            [
            1603648485802,
            13301470.71470042
            ],
            [
            1603648807259,
            13327104.89420014
            ],
            [
            1603649082870,
            13361439.749496816
            ],
            [
            1603649449129,
            13354021.513747444
            ],
            [
            1603649626582,
            13353214.584097039
            ],
            [
            1603649979314,
            13344869.939602993
            ],
            [
            1603650361957,
            13400837.29072842
            ],
            [
            1603650679954,
            13392150.204103338
            ],
            [
            1603650679000,
            13392150.204103338
            ]
            ]
        }
    "#;
    let prices: Prices = serde_json::from_str(str)?;
    Ok(prices)
}
